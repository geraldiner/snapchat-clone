(this["webpackJsonpsnapchat-clone"]=this["webpackJsonpsnapchat-clone"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var c=a(5),s=a.n(c),n=a(46),r=a.n(n),i=(a(82),a(62)),o=a(16),j=a(32),u=a(41),l=Object(u.b)({name:"camera",initialState:{cameraImage:null,status:"idle"},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),m=l.actions,b=m.setCameraImage,d=m.resetCameraImage,p=function(e){return e.camera.cameraImage},O=l.reducer,h=a(66),f=a.n(h),g=a(68),x=a.n(g),v=(a(86),a(7)),w={width:250,height:400,facingMode:"user"},_=function(){var e=Object(c.useRef)(null),t=Object(j.b)(),a=Object(o.f)(),s=Object(c.useCallback)((function(){var c=e.current.getScreenshot();t(b(c)),a.push("/preview")}),[e]);return Object(v.jsxs)("div",{className:"webcam-capture",children:[Object(v.jsx)(f.a,{audio:!1,height:w.height,ref:e,screenshotFormat:"image/jpeg",width:w.width,videoConstraints:w}),Object(v.jsx)(x.a,{className:"webcam-capture__button",onClick:s,fontSize:"large"})]})},I=a(0),N=a.n(I),k=a(2),y=a(123),C=a(111),S=a(112),B=a(113),E=a(114),P=a(115),U=a(116),M=a(117),T=a(118),z=a(119),A=a(28),D=a(39),W=a(70),F=a(73),J=Object(W.a)({apiKey:"AIzaSyBs6bejXhvw3Pc9VkOsyqueVoDlXt7yA_Q",authDomain:"snapchat-clone-9001.firebaseapp.com",projectId:"snapchat-clone-9001",storageBucket:"snapchat-clone-9001.appspot.com",messagingSenderId:"967823816936",appId:"1:967823816936:web:3b5481ca867d12edd8715d"}),R=Object(A.e)(J),V=(Object(F.a)(J),Object(D.c)(J)),X=(a(94),function(){var e=Object(j.c)(p),t=Object(o.f)(),a=Object(j.b)();Object(c.useEffect)((function(){e||t.replace("/")}),[e,t]);var s=function(){var a=Object(k.a)(N.a.mark((function a(){var c,s,n;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=Object(y.a)(),s=Object(D.d)(V,"photos/".concat(c)),a.prev=2,a.next=5,Object(D.e)(s,e,"data_url");case 5:n=a.sent,Object(D.a)(n.ref).then(function(){var e=Object(k.a)(N.a.mark((function e(a){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.b)(s);case 3:return e.next=5,e.sent.timeCreated;case 5:return c=e.sent,e.next=8,Object(A.a)(Object(A.b)(R,"photos"),{imageUrl:a,username:"Mr. Meeseeks",read:!1,timestamp:c});case 8:t.push("/messages"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"preview",children:[Object(v.jsx)(C.a,{onClick:function(){a(d())},className:"preview__close"}),Object(v.jsxs)("div",{className:"preview__toolbarRight",children:[Object(v.jsx)(S.a,{}),Object(v.jsx)(B.a,{}),Object(v.jsx)(E.a,{}),Object(v.jsx)(P.a,{}),Object(v.jsx)(U.a,{}),Object(v.jsx)(M.a,{}),Object(v.jsx)(T.a,{})]}),Object(v.jsx)("img",{src:e,alt:""}),Object(v.jsxs)("div",{onClick:s,className:"preview__footer",children:[Object(v.jsx)("h2",{children:"Send Now"}),Object(v.jsx)(z.a,{className:"preview__sendIcon"})]})]})}),q=a(13),K=a(125),Q=a(121),$=a(122),G=a(120),H=a(72),L=Object(u.b)({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),Y=L.actions,Z=(Y.login,Y.logout,Y.selectImage),ee=(Y.resetImage,function(e){return e.app.selectedImage}),te=L.reducer,ae=(a(95),function(e){var t=e.id,a=e.username,c=e.timestamp,s=e.imageUrl,n=e.read,r=e.profilePic,i=Object(j.b)(),u=Object(o.f)(),l=function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return i(Z(s)),e.next=4,Object(A.h)(Object(A.c)(R,"photos",t),{read:!0},{merge:!0});case 4:u.push("/messages/view");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{onClick:l,className:"message",children:[Object(v.jsx)(K.a,{className:"message__avatar",src:r}),Object(v.jsxs)("div",{className:"message__info",children:[Object(v.jsx)("h4",{children:a}),Object(v.jsxs)("p",{children:[!n&&"Tap to view - ",Object(v.jsx)(H.a,{date:new Date(c).toUTCString()})]})]}),!n&&Object(v.jsx)(G.a,{className:"message__readIcon"})]})}),ce=(a(96),function(){var e=Object(c.useState)([]),t=Object(q.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(A.g)(Object(A.b)(R,"photos"),Object(A.f)("timestamp","desc")),e.next=3,Object(A.d)(t);case 3:a=e.sent,c=[],a.forEach((function(e){c.push({id:e.id,data:e.data()})})),s(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(v.jsxs)("div",{className:"messages",children:[Object(v.jsxs)("div",{className:"messages__header",children:[Object(v.jsx)(K.a,{className:"messages__avatar"}),Object(v.jsxs)("div",{className:"messages__search",children:[Object(v.jsx)(Q.a,{}),Object(v.jsx)("input",{type:"text",placeholder:"Search contacts"})]}),Object(v.jsx)($.a,{className:"messages__chatIcon"})]}),Object(v.jsx)("div",{className:"messages__wrapper",children:a.map((function(e){var t=e.id,a=e.data,c=a.profilePic,s=a.username,n=a.timestamp,r=a.imageUrl,i=a.read;return Object(v.jsx)(ae,{id:t,username:s,timestamp:n,imageUrl:r,read:i,profilePic:c},t)}))})]})}),se=a(71),ne=(a(97),function(){var e=Object(j.c)(ee),t=Object(o.f)();Object(c.useEffect)((function(){e||a()}),[e]);var a=function(){t.replace("/messages")};return Object(v.jsxs)("div",{className:"message-view",children:[Object(v.jsx)("img",{src:e,onClick:a,alt:""}),Object(v.jsx)("div",{className:"message-view__timer",children:Object(v.jsx)(se.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[["#004477",.33],["#F7B801",.33],["#A30000",.33]],children:function(e){var t=e.remainingTime;return 0===t&&a(),t}})})]})});a(98);var re=function(){return Object(v.jsx)(i.a,{children:Object(v.jsx)("div",{className:"app",children:Object(v.jsx)("div",{className:"app__body",children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/",component:_}),Object(v.jsx)(o.a,{exact:!0,path:"/preview",component:X}),Object(v.jsx)(o.a,{exact:!0,path:"/messages",component:ce}),Object(v.jsx)(o.a,{exact:!0,path:"/messages/view",component:ne})]})})})})},ie=Object(u.a)({reducer:{app:te,camera:O}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(j.a,{store:ie,children:Object(v.jsx)(re,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,a){},86:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.4712c4ff.chunk.js.map